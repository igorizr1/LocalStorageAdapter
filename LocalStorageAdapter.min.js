angular.module("LocalStorageAdapter",["general.config"]).factory("LocalStorageAdapter",function(GENERAL_CONFIG){var e=localStorage,r=GENERAL_CONFIG.APP_NAME+"_",n=function(){try{if(0===arguments.length)return!0;for(var t=0;t<arguments.length;++t){if(!arguments[t])return!0;if(arguments[t]instanceof Array&&0===arguments[t].length)return!0;if("object"==typeof arguments[t]&&0===Object.keys(arguments[t]).length)return!0;if("string"==typeof arguments[t]&&""===arguments[t])return!0;if("number"==typeof arguments[t]&&""===arguments[t])return!0}return!1}catch(e){return!0}};return{set:function(t,n){if(t=r+t,2!==arguments.length)return!1;if(n&&"string"!=typeof n)var n=JSON.stringify(n);return e.setItem(t,n)},get:function(t){if(t=r+t,1!==arguments.length)return!1;var n=e.getItem(t);return null===n?!1:n.match(/\[.*\]|\{.*\}/)?JSON.parse(n):n},array_push:function(t,e){var r=this.get(t);if(n(r))r=[];else if(!(r instanceof Array))return!1;return r.push(e),this.set(t,r)},array_splice:function(t,e){var r=this.get(t);if(!r instanceof Array)return!1;var n=r.splice(e,1);return this.set(t,r),n},object_push:function(t,e){var r=this.get(t);if(n(r))r={};else if(r instanceof Array||"string"==typeof r||"number"==typeof r)return!1;if(Object.keys(e).length>1||0===Object.keys(e).length)return!1;var a=Object.keys(e)[0];return r[a]=e[a],this.set(t,r)},object_slice:function(t,e){var r=this.get(t);return r instanceof Array||"string"==typeof r||"number"==typeof r?!1:(delete r[e],this.set(t,r))},in_object:function(t,e){var r=this.get(t);return r instanceof Array||"string"==typeof r||"number"==typeof r?!1:e in r},clear:function(t){return 1===arguments.length?e.removeItem(r+t):e.clear()}}});